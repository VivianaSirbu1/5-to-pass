{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Viviana\\\\Desktop\\\\proiect\\\\client\\\\src\\\\App.js\",\n    _s = $RefreshSig$(),\n    _s3 = $RefreshSig$();\n\nimport './App.css';\nimport { BrowserRouter as Router, Switch, Redirect, Route } from 'react-router-dom';\nimport { createContext, useContext, useEffect, useState } from 'react';\nimport AuthHandler from './entities/AuthHandler';\nimport Grade from './components/Grade';\nimport Login from './components/Login';\nimport NavbarMenu from './components/NavbarMenu';\nimport SignUp from './components/SignUp';\nimport User from './components/User';\nimport UsersTable from './components/UsersTable';\nimport Home from './components/Home';\nimport TeamsTable from './components/TeamsTable';\nimport Team from './components/Team';\nimport { Button } from 'reactstrap';\n\nfunction PrivateRoute({\n  useAuthHandler,\n  children,\n  ...rest\n}) {\n  _s();\n\n  const authHandler = useAuthHandler();\n  return /*#__PURE__*/_jsxDEV(Route, { ...rest,\n    render: ({\n      location\n    }) => authHandler.isAuthenticated() ? children : /*#__PURE__*/_jsxDEV(Redirect, {\n      to: {\n        pathname: '/login',\n        state: {\n          from: location\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 5\n  }, this);\n}\n\n_s(PrivateRoute, \"yZ1vkiTr3hP4GYlR9jqYVzSNywo=\", false, function () {\n  return [useAuthHandler];\n});\n\n_c = PrivateRoute;\nconst authContext = /*#__PURE__*/createContext();\n\nfunction App() {\n  _s3();\n\n  var _s2 = $RefreshSig$();\n\n  const [userState, setUserState] = useState(JSON.parse(localStorage.getItem('user-state')) || {\n    username: '',\n    token: null\n  });\n  const authHandler = new AuthHandler(userState, setUserState);\n\n  const useAuthContext = () => {\n    _s2();\n\n    return useContext(authContext);\n  };\n\n  _s2(useAuthContext, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\n  useEffect(_ => (async _ => await authHandler.checkSession())(), []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(authContext.Provider, {\n      value: authHandler,\n      children: /*#__PURE__*/_jsxDEV(Router, {\n        children: [/*#__PURE__*/_jsxDEV(NavbarMenu, {\n          useAuthHandler: useAuthContext\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Switch, {\n          children: [/*#__PURE__*/_jsxDEV(PrivateRoute, {\n            exact: true,\n            path: \"/\",\n            useAuthHandler: useAuthContext,\n            children: /*#__PURE__*/_jsxDEV(Home, {\n              useAuthHandler: useAuthContext\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n            exact: true,\n            path: \"/user/:username\",\n            useAuthHandler: useAuthContext,\n            children: /*#__PURE__*/_jsxDEV(User, {\n              useAuthHandler: useAuthContext\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n            exact: true,\n            path: \"/grade\",\n            useAuthHandler: useAuthContext,\n            children: /*#__PURE__*/_jsxDEV(Grade, {\n              useAuthHandler: useAuthContext\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n            exact: true,\n            path: \"/students\",\n            useAuthHandler: useAuthContext,\n            children: /*#__PURE__*/_jsxDEV(UsersTable, {\n              onlyStudents: true,\n              useAuthHandler: useAuthContext\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n            exact: true,\n            path: \"/professors\",\n            useAuthHandler: useAuthContext,\n            children: /*#__PURE__*/_jsxDEV(UsersTable, {\n              onlyProfessors: true,\n              useAuthHandler: useAuthContext\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n            exact: true,\n            path: \"/teams\",\n            useAuthHandler: useAuthContext,\n            children: /*#__PURE__*/_jsxDEV(TeamsTable, {\n              useAuthHandler: useAuthContext\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n            exact: true,\n            path: \"/teams/:teamId\",\n            useAuthHandler: useAuthContext,\n            children: /*#__PURE__*/_jsxDEV(Team, {\n              useAuthHandler: useAuthContext\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            exact: true,\n            path: \"/sign-up\",\n            children: /*#__PURE__*/_jsxDEV(SignUp, {\n              useAuthHandler: useAuthContext\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            exact: true,\n            path: \"/login\",\n            children: /*#__PURE__*/_jsxDEV(Login, {\n              useAuthHandler: useAuthContext\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Redirect, {\n            path: \"*\",\n            to: \"/\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 8\n  }, this);\n}\n\n_s3(App, \"2qfoAoyHPEw/fNNtxo7Otbw5ihM=\");\n\n_c2 = App;\nexport default App;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"PrivateRoute\");\n$RefreshReg$(_c2, \"App\");","map":{"version":3,"sources":["C:/Users/Viviana/Desktop/proiect/client/src/App.js"],"names":["BrowserRouter","Router","Switch","Redirect","Route","createContext","useContext","useEffect","useState","AuthHandler","Grade","Login","NavbarMenu","SignUp","User","UsersTable","Home","TeamsTable","Team","Button","PrivateRoute","useAuthHandler","children","rest","authHandler","location","isAuthenticated","pathname","state","from","authContext","App","userState","setUserState","JSON","parse","localStorage","getItem","username","token","useAuthContext","_","checkSession"],"mappings":"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","sourcesContent":["import './App.css';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Redirect,\n  Route,\n} from 'react-router-dom';\nimport { createContext, useContext, useEffect, useState } from 'react';\nimport AuthHandler from './entities/AuthHandler';\nimport Grade from './components/Grade';\nimport Login from './components/Login';\nimport NavbarMenu from './components/NavbarMenu';\nimport SignUp from './components/SignUp';\nimport User from './components/User';\nimport UsersTable from './components/UsersTable';\nimport Home from './components/Home';\nimport TeamsTable from './components/TeamsTable';\nimport Team from './components/Team';\nimport { Button } from 'reactstrap';\n\nfunction PrivateRoute({ useAuthHandler, children, ...rest }) {\n  const authHandler = useAuthHandler();\n\n  return (\n    <Route {...rest}\n      render={({ location }) =>\n        authHandler.isAuthenticated() ? (\n          children\n        ) : (\n            <Redirect to={{\n              pathname: '/login',\n              state: { from: location }\n            }} />\n          )} />\n  );\n}\n\nconst authContext = createContext();\n\nfunction App() {\n  const [userState, setUserState] = useState(JSON.parse(localStorage.getItem('user-state')) || { username: '', token: null });\n  const authHandler = new AuthHandler(userState, setUserState);\n  const useAuthContext = () => useContext(authContext);\n\n  useEffect(_ => (async _ => await authHandler.checkSession())(), []);\n  \n  return (\n   \n       <div className=\"App\">\n      <authContext.Provider value={authHandler}>\n        <Router>\n          <NavbarMenu useAuthHandler={useAuthContext} />\n          <Switch>\n            <PrivateRoute exact path=\"/\" useAuthHandler={useAuthContext}>\n              <Home useAuthHandler={useAuthContext} />\n            </PrivateRoute>\n            <PrivateRoute exact path=\"/user/:username\" useAuthHandler={useAuthContext}>\n              <User useAuthHandler={useAuthContext} />\n            </PrivateRoute>\n            <PrivateRoute exact path=\"/grade\" useAuthHandler={useAuthContext}>\n              <Grade useAuthHandler={useAuthContext}></Grade>\n            </PrivateRoute>\n            <PrivateRoute exact path=\"/students\" useAuthHandler={useAuthContext}>\n              <UsersTable onlyStudents={true} useAuthHandler={useAuthContext} />\n            </PrivateRoute>\n            <PrivateRoute exact path=\"/professors\" useAuthHandler={useAuthContext}>\n              <UsersTable onlyProfessors={true} useAuthHandler={useAuthContext} />\n            </PrivateRoute>\n            <PrivateRoute exact path=\"/teams\" useAuthHandler={useAuthContext}>\n              <TeamsTable useAuthHandler={useAuthContext}></TeamsTable>\n            </PrivateRoute>\n            <PrivateRoute exact path=\"/teams/:teamId\" useAuthHandler={useAuthContext}>\n              <Team useAuthHandler={useAuthContext} />\n            </PrivateRoute>\n\n            <Route exact path=\"/sign-up\">\n              <SignUp useAuthHandler={useAuthContext} />\n            </Route>\n\n            <Route exact path=\"/login\">\n              <Login useAuthHandler={useAuthContext} />\n            </Route>\n\n            <Redirect path=\"*\" to=\"/\" />\n          </Switch>\n        </Router>\n      </authContext.Provider>\n      </div>\n    \n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}