{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Viviana\\\\Desktop\\\\proiect tw2\\\\New folder (2)\\\\proiect\\\\client\\\\src\\\\components\\\\Team.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport { Alert, Button, Card, CardBody, CardHeader, CardTitle, Col, Container, Form, FormGroup, Input, Label, Modal, ModalBody, ModalFooter, ModalHeader, Row, Table } from 'reactstrap';\nimport ApiRequestHandler from '../entities/ApiRequestHelper';\nimport { useParams, Link } from 'react-router-dom';\nimport './Card.css';\n\nconst createModal = (color, message, toggle) => {\n  const btnClickEvent = async e => {\n    await toggle(e);\n\n    if (color === 'success') {\n      window.location.reload();\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    isOpen: message.length > 0,\n    toggle: toggle,\n    children: [/*#__PURE__*/_jsxDEV(ModalHeader, {\n      children: color === 'success' ? 'Success' : 'Error'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ModalBody, {\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        color: color,\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ModalFooter, {\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        color: \"primary\",\n        onClick: btnClickEvent,\n        children: \"Ok\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 9\n  }, this);\n};\n\nexport default function Team({\n  useAuthHandler\n}) {\n  _s();\n\n  const authHandler = useAuthHandler();\n  const [members, setMembers] = useState(null);\n  const [deliverables, setDeliverables] = useState(null);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const [currentUser, setCurrentUser] = useState(null);\n  const [users, setUsers] = useState(null);\n  const {\n    teamId\n  } = useParams();\n  const [isMembersModalOpen, toggleMembersModal] = useState(false);\n  const [isDelivModalOpen, toggleDelivModal] = useState(false);\n  const requestHandler = new ApiRequestHandler();\n\n  const renderMembers = () => {\n    return /*#__PURE__*/_jsxDEV(Card, {\n      children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n        children: /*#__PURE__*/_jsxDEV(CardTitle, {\n          tag: \"h3\",\n          children: \" Membrii\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(CardBody, {\n        children: /*#__PURE__*/_jsxDEV(Table, {\n          responsive: true,\n          striped: true,\n          hover: true,\n          id: \"table-home\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"#\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Username\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Prenume\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Nume\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: members && members.map((j, i) => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"row\",\n                children: i + 1\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  to: `/user/${j.username}`,\n                  children: j.username\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 83,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: j.surname\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: j.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 33\n              }, this)]\n            }, j.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 29\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }, this);\n  };\n\n  const renderRemoveButtonHeader = () => currentUser && members && members.some(m => m.username === currentUser.username) ? /*#__PURE__*/_jsxDEV(\"th\", {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 93,\n    columnNumber: 127\n  }, this) : null;\n\n  const renderRemoveButton = deliverableId => {\n    if (currentUser && members && members.some(m => m.username === currentUser.username)) {\n      return /*#__PURE__*/_jsxDEV(Button, {\n        color: \"danger\",\n        onClick: async () => {\n          await requestHandler.delete(`/teams/${teamId}/deliverables`, {\n            body: [{\n              id: deliverableId\n            }],\n            headers: authHandler.getAuthorizationHeader()\n          }, resp => resp.status !== 200 ? setError(resp.message) : setSuccess(resp.message));\n        },\n        children: \"Remove\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }, this);\n    }\n\n    return null;\n  };\n\n  const renderDeliverables = () => {\n    return /*#__PURE__*/_jsxDEV(Card, {\n      children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n        children: /*#__PURE__*/_jsxDEV(CardTitle, {\n          tag: \"h3\",\n          children: \"Teme proiecte\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(CardBody, {\n        children: /*#__PURE__*/_jsxDEV(Table, {\n          responsive: true,\n          striped: true,\n          hover: true,\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"#\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Titlu\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Descriere\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Url\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 29\n              }, this), renderRemoveButtonHeader()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: deliverables && deliverables.map((j, i) => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"row\",\n                children: i + 1\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: j.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: j.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: j.url\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 132,\n                columnNumber: 33\n              }, this), renderRemoveButton(j.id)]\n            }, j.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 29\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 17\n    }, this);\n  };\n\n  const handleChange = async e => {\n    await requestHandler.get('/users', {\n      query: `?name=${e.target.value}&surname=${e.target.value}`,\n      headers: authHandler.getAuthorizationHeader()\n    }, resp => {\n      if (resp.status !== 200) {\n        setError(resp.message);\n      } else {\n        let users = [];\n\n        for (let i = 0; i < Object.keys(resp).length - 1; i++) {\n          if (!members.some(m => m.username === resp[i].username) && resp[i].is_professor === 0) users.push(resp[i]);\n        }\n\n        setUsers(users);\n      }\n    });\n  };\n\n  const addMember = async (username, id) => {\n    await requestHandler.post(`/teams/${teamId}/members`, {\n      body: [{\n        username: username,\n        id: id\n      }],\n      headers: authHandler.getAuthorizationHeader()\n    }, resp => {\n      if (resp.status !== 200) {\n        setError(resp.message);\n      } else {\n        setSuccess(resp.message);\n      }\n    });\n  };\n\n  const addDeliverableButton = () => {\n    if (currentUser && members && !members.some(m => m.username === currentUser.username)) {\n      return null;\n    }\n\n    const submit = async () => {\n      await requestHandler.post(`/teams/${teamId}/deliverables`, {\n        headers: authHandler.getAuthorizationHeader(),\n        body: {\n          title: document.getElementById('title').value,\n          description: document.getElementById('description').value,\n          url: document.getElementById('url').value\n        }\n      }, resp => resp.status !== 200 ? setError(resp.message) : setSuccess(resp.message));\n    };\n\n    const delivModal = () => {\n      return /*#__PURE__*/_jsxDEV(Modal, {\n        isOpen: isDelivModalOpen,\n        toggle: _ => toggleDelivModal(false),\n        children: [/*#__PURE__*/_jsxDEV(ModalHeader, {\n          children: \"Adauga teme proiect\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(ModalBody, {\n          children: /*#__PURE__*/_jsxDEV(Form, {\n            onSubmit: e => e.preventDefault(),\n            children: [/*#__PURE__*/_jsxDEV(FormGroup, {\n              children: [/*#__PURE__*/_jsxDEV(Label, {\n                for: \"title\",\n                children: \"Titlu\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                id: \"title\",\n                name: \"title\",\n                type: \"text\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 192,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n              children: [/*#__PURE__*/_jsxDEV(Label, {\n                for: \"description\",\n                children: \"Descriere\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                id: \"description\",\n                name: \"description\",\n                type: \"text\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n              children: [/*#__PURE__*/_jsxDEV(Label, {\n                for: \"url\",\n                children: \"URL\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                id: \"url\",\n                name: \"url\",\n                type: \"text\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 202,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(ModalFooter, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => toggleDelivModal(false),\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            color: \"primary\",\n            onClick: submit,\n            children: \"Save\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 17\n      }, this);\n    };\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"py-2\",\n      children: [delivModal(), /*#__PURE__*/_jsxDEV(Button, {\n        color: \"primary\",\n        onClick: () => toggleDelivModal(true),\n        children: \"Adauga teme proiect\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 13\n    }, this);\n  };\n\n  const addMemberButton = () => {\n    if (!currentUser || currentUser.is_professor === 0) return null;\n\n    const usersModal = () => {\n      return /*#__PURE__*/_jsxDEV(Modal, {\n        isOpen: isMembersModalOpen,\n        toggle: _ => toggleMembersModal(false),\n        children: [/*#__PURE__*/_jsxDEV(ModalHeader, {\n          children: \"Adauga membrii\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(ModalBody, {\n          children: [/*#__PURE__*/_jsxDEV(FormGroup, {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              for: \"filter\",\n              children: \"Filter\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              id: \"filter\",\n              name: \"filter\",\n              type: \"text\",\n              placeholder: \"Ion\",\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Table, {\n            responsive: true,\n            striped: true,\n            hover: true,\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Prenume\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 240,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Nume\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 241,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 242,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: users && users.map((d, i) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: d.surname\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 248,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: d.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 249,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: /*#__PURE__*/_jsxDEV(Button, {\n                    color: \"success\",\n                    onClick: async () => await addMember(d.username, d.id),\n                    children: \"Adauga\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 250,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 250,\n                  columnNumber: 41\n                }, this)]\n              }, i, true, {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 37\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(ModalFooter, {\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            color: \"primary\",\n            onClick: () => toggleMembersModal(false),\n            children: \"OK\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 17\n      }, this);\n    };\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"py-3\",\n      children: [usersModal(), /*#__PURE__*/_jsxDEV(Button, {\n        color: \"primary\",\n        onClick: () => toggleMembersModal(true),\n        children: \"Adauga membrii\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 13\n    }, this);\n  };\n\n  useEffect(() => {\n    const requestHandler = new ApiRequestHandler();\n\n    (async () => {\n      await requestHandler.get('/users', {\n        query: `?username=${authHandler.getUsername()}`,\n        headers: authHandler.getAuthorizationHeader()\n      }, resp => resp.message ? setError(resp.message) : setCurrentUser(resp[0]));\n      await requestHandler.get(`/teams/${teamId}`, {\n        headers: authHandler.getAuthorizationHeader()\n      }, async resp => {\n        setDeliverables(resp.Deliverables);\n        setMembers(resp.Users);\n      });\n    })();\n  }, [authHandler, teamId]);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    className: \"py-2\",\n    fluid: true,\n    children: [createModal('success', success, _ => setSuccess('')), createModal('danger', error, _ => setError('')), /*#__PURE__*/_jsxDEV(Row, {\n      xs: \"2\",\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        children: renderMembers()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        children: renderDeliverables()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      xs: \"2\",\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        children: addMemberButton()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        children: addDeliverableButton()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 291,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Team, \"sXD89vwbFcYUQ2CXh6H8he6Ohck=\", true, function () {\n  return [useParams];\n});\n\n_c = Team;\n\nvar _c;\n\n$RefreshReg$(_c, \"Team\");","map":{"version":3,"sources":["C:/Users/Viviana/Desktop/proiect tw2/New folder (2)/proiect/client/src/components/Team.js"],"names":["useState","useEffect","Alert","Button","Card","CardBody","CardHeader","CardTitle","Col","Container","Form","FormGroup","Input","Label","Modal","ModalBody","ModalFooter","ModalHeader","Row","Table","ApiRequestHandler","useParams","Link","createModal","color","message","toggle","btnClickEvent","e","window","location","reload","length","Team","useAuthHandler","authHandler","members","setMembers","deliverables","setDeliverables","error","setError","success","setSuccess","currentUser","setCurrentUser","users","setUsers","teamId","isMembersModalOpen","toggleMembersModal","isDelivModalOpen","toggleDelivModal","requestHandler","renderMembers","map","j","i","username","surname","name","id","renderRemoveButtonHeader","some","m","renderRemoveButton","deliverableId","delete","body","headers","getAuthorizationHeader","resp","status","renderDeliverables","title","description","url","handleChange","get","query","target","value","Object","keys","is_professor","push","addMember","post","addDeliverableButton","submit","document","getElementById","delivModal","_","preventDefault","addMemberButton","usersModal","d","getUsername","Deliverables","Users"],"mappings":"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","sourcesContent":["import { useState, useEffect } from 'react';\nimport {\n    Alert,\n    Button,\n    Card,\n    CardBody,\n    CardHeader,\n    CardTitle,\n    Col,\n    Container,\n    Form,\n    FormGroup,\n    Input,\n    Label,\n    Modal,\n    ModalBody,\n    ModalFooter,\n    ModalHeader,\n    Row,\n    Table\n} from 'reactstrap';\nimport ApiRequestHandler from '../entities/ApiRequestHelper';\nimport { useParams, Link } from 'react-router-dom';\nimport './Card.css';\n\n\nconst createModal = (color, message, toggle) => {\n    const btnClickEvent = async e => {\n        await toggle(e);\n        if (color === 'success') {\n            window.location.reload();\n        }\n    };\n\n    return (\n        <Modal isOpen={message.length > 0} toggle={toggle}>\n            <ModalHeader>{color === 'success' ? 'Success' : 'Error'}</ModalHeader>\n\n            <ModalBody>\n                <Alert color={color}>{message}</Alert>\n            </ModalBody>\n\n            <ModalFooter>\n                <Button color=\"primary\" onClick={btnClickEvent}>Ok</Button>\n            </ModalFooter>\n        </Modal>\n    );\n};\n\n\nexport default function Team({ useAuthHandler }) {\n    const authHandler = useAuthHandler();\n    const [members, setMembers] = useState(null);\n    const [deliverables, setDeliverables] = useState(null);\n    const [error, setError] = useState('');\n    const [success, setSuccess] = useState('');\n    const [currentUser, setCurrentUser] = useState(null);\n    const [users, setUsers] = useState(null);\n    const { teamId } = useParams();\n    const [isMembersModalOpen, toggleMembersModal] = useState(false);\n    const [isDelivModalOpen, toggleDelivModal] = useState(false);\n    const requestHandler = new ApiRequestHandler();\n\n    const renderMembers = () => {\n        return (<Card>\n            <CardHeader>\n                <CardTitle tag=\"h3\"> Membrii</CardTitle>\n            </CardHeader>\n            <CardBody>\n                <Table responsive striped hover id=\"table-home\">\n                    <thead>\n                        <tr>\n                            <th>#</th>\n                            <th>Username</th>\n                            <th>Prenume</th>\n                            <th>Nume</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {members && members.map((j, i) =>\n                            <tr key={j.id}>\n                                <th scope=\"row\">{i + 1}</th>\n                                <th><Link to={`/user/${j.username}`}>{j.username}</Link></th>\n                                <th>{j.surname}</th>\n                                <th>{j.name}</th>\n                            </tr>)\n                        }\n                    </tbody>\n                </Table>\n            </CardBody>\n        </Card>)\n    }\n    const renderRemoveButtonHeader = () => currentUser && members && members.some(m => m.username === currentUser.username) ? <th></th> : null;\n    const renderRemoveButton = (deliverableId) => {\n        if (currentUser && members && members.some(m => m.username === currentUser.username)) {\n            return (\n                <Button color=\"danger\"\n                    onClick={async () => {\n                        await requestHandler.delete(`/teams/${teamId}/deliverables`, {\n                            body: [{ id: deliverableId }],\n                            headers: authHandler.getAuthorizationHeader()\n                        }, resp => resp.status !== 200 ? setError(resp.message) : setSuccess(resp.message))\n                    }}>\n                    Remove\n                </Button>\n            )\n        }\n        return null;\n    }\n    const renderDeliverables = () => {\n        return (<Card>\n            <CardHeader>\n                <CardTitle tag=\"h3\">Teme proiecte</CardTitle>\n            </CardHeader>\n            <CardBody>\n                <Table responsive striped hover>\n                    <thead>\n                        <tr>\n                            <th>#</th>\n                            <th>Titlu</th>\n                            <th>Descriere</th>\n                            <th>Url</th>\n                            {renderRemoveButtonHeader()}\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {deliverables && deliverables.map((j, i) =>\n                            <tr key={j.id}>\n                                <th scope=\"row\">{i + 1}</th>\n                                <th>{j.title}</th>\n                                <th>{j.description}</th>\n                                <th>{j.url}</th>\n                                {renderRemoveButton(j.id)}\n                            </tr>)\n                        }\n                    </tbody>\n                </Table>\n            </CardBody>\n        </Card>)\n    }\n    const handleChange = async (e) => {\n        await requestHandler.get('/users', {\n            query: `?name=${e.target.value}&surname=${e.target.value}`,\n            headers: authHandler.getAuthorizationHeader()\n        }, resp => {\n            if (resp.status !== 200) {\n                setError(resp.message)\n            }\n            else {\n                let users = [];\n                for (let i = 0; i < Object.keys(resp).length - 1; i++) {\n                    if (!members.some(m => m.username === resp[i].username) && resp[i].is_professor === 0)\n                        users.push(resp[i])\n                }\n                setUsers(users)\n            }\n        });\n    }\n\n    const addMember = async (username, id) => {\n        await requestHandler.post(`/teams/${teamId}/members`, {\n            body: [{ username: username, id: id }],\n            headers: authHandler.getAuthorizationHeader()\n        }, resp => {\n            if (resp.status !== 200) {\n                setError(resp.message);\n            }\n            else {\n                setSuccess(resp.message);\n            }\n        });\n    }\n    const addDeliverableButton = () => {\n        if (currentUser && members && !members.some(m => m.username === currentUser.username)) {\n            return null;\n        }\n\n        const submit = async () => {\n            await requestHandler.post(`/teams/${teamId}/deliverables`, {\n                headers: authHandler.getAuthorizationHeader(),\n                body: { title: document.getElementById('title').value, description: document.getElementById('description').value, url: document.getElementById('url').value }\n            }, resp => resp.status !== 200 ? setError(resp.message) : setSuccess(resp.message))\n        }\n        const delivModal = () => {\n            return (\n                <Modal isOpen={isDelivModalOpen} toggle={_ => toggleDelivModal(false)}>\n                    <ModalHeader>Adauga teme proiect</ModalHeader>\n                    <ModalBody>\n                        <Form onSubmit={(e) => e.preventDefault()}>\n                            <FormGroup>\n                                <Label for=\"title\">Titlu</Label>\n                                <Input id=\"title\" name=\"title\"\n                                    type=\"text\" />\n                            </FormGroup>\n                            <FormGroup>\n                                <Label for=\"description\">Descriere</Label>\n                                <Input id=\"description\" name=\"description\"\n                                    type=\"text\" />\n                            </FormGroup>\n                            <FormGroup>\n                                <Label for=\"url\">URL</Label>\n                                <Input id=\"url\" name=\"url\"\n                                    type=\"text\" />\n                            </FormGroup>\n                        </Form>\n                    </ModalBody>\n                    <ModalFooter>\n                        <Button onClick={() => toggleDelivModal(false)}>Cancel</Button>\n                        <Button color=\"primary\" onClick={submit}>Save</Button>\n                    </ModalFooter>\n                </Modal>\n            )\n        }\n        return (\n            <div className=\"py-2\">\n                {delivModal()}\n                <Button color=\"primary\" onClick={() => toggleDelivModal(true)}>\n                    Adauga teme proiect\n                </Button>\n            </div>\n        )\n    }\n    const addMemberButton = () => {\n        if (!currentUser || currentUser.is_professor === 0)\n            return null;\n        const usersModal = () => {\n            return (\n                <Modal isOpen={isMembersModalOpen} toggle={_ => toggleMembersModal(false)}>\n                    <ModalHeader>Adauga membrii</ModalHeader>\n                    <ModalBody>\n                        <FormGroup>\n                            <Label for=\"filter\">Filter</Label>\n                            <Input id=\"filter\" name=\"filter\"\n                                type=\"text\" placeholder=\"Ion\"\n                                onChange={handleChange} />\n                        </FormGroup>\n                        <Table responsive striped hover>\n                            <thead>\n                                <tr>\n                                    <th>Prenume</th>\n                                    <th>Nume</th>\n                                    <th></th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                {users && users.map((d, i) => (\n                                    <tr key={i}>\n                                        <th>{d.surname}</th>\n                                        <th>{d.name}</th>\n                                        <th><Button color=\"success\" onClick={async () => await addMember(d.username, d.id)}>Adauga</Button></th>\n                                    </tr>\n                                ))}\n                            </tbody>\n                        </Table>\n\n                    </ModalBody>\n                    <ModalFooter>\n                        <Button color=\"primary\" onClick={() => toggleMembersModal(false)}>OK</Button>\n                    </ModalFooter>\n                </Modal>\n            )\n        }\n        return (\n            <div className=\"py-3\">\n                {usersModal()}\n                <Button color=\"primary\" onClick={() => toggleMembersModal(true)}>\n                   Adauga membrii\n                </Button>\n            </div>\n        )\n    }\n    useEffect(() => {\n        const requestHandler = new ApiRequestHandler();\n\n        (async () => {\n            await requestHandler.get('/users', {\n                query: `?username=${authHandler.getUsername()}`,\n                headers: authHandler.getAuthorizationHeader()\n            }, resp => resp.message ? setError(resp.message) : setCurrentUser(resp[0]));\n\n            await requestHandler.get(`/teams/${teamId}`, {\n                headers: authHandler.getAuthorizationHeader()\n            }, async resp => {\n                setDeliverables(resp.Deliverables);\n                setMembers(resp.Users);\n            });\n        })();\n    }, [authHandler, teamId]);\n\n    return (\n        <Container className=\"py-2\" fluid>\n            {createModal('success', success, _ => setSuccess(''))}\n            {createModal('danger', error, _ => setError(''))}\n            <Row xs=\"2\">\n                <Col>{renderMembers()}</Col>\n                <Col>{renderDeliverables()}</Col>\n            </Row>\n            <Row xs=\"2\">\n                <Col>{addMemberButton()}</Col>\n                <Col>{addDeliverableButton()}</Col>\n            </Row>\n        </Container>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}