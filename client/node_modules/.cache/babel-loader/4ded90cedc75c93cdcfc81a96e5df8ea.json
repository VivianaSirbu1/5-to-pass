{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Viviana\\\\Desktop\\\\proiect tw2\\\\New folder (2)\\\\proiect\\\\client\\\\src\\\\components\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Redirect, useHistory, useLocation } from 'react-router-dom';\nimport { Alert, Button, Card, CardBody, CardTitle, Col, Container, Form, FormGroup, Input, Label, Modal, ModalBody, ModalFooter, ModalHeader, Row } from 'reactstrap';\nexport default function Login({\n  useAuthHandler\n}) {\n  _s();\n\n  const authHandler = useAuthHandler();\n  const history = useHistory();\n  const location = useLocation();\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n\n  const handleChange = e => {\n    if (e.target.id === 'username') {\n      setUsername(e.target.value);\n    } else if (e.target.id === 'password') {\n      setPassword(e.target.value);\n    }\n  };\n\n  const login = async () => {\n    const user = {\n      username: username,\n      password: password\n    };\n    await authHandler.login(user, resp => resp.message ? setError(resp.message) : history.push(location.state || {\n      from: '/'\n    }));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: authHandler.isAuthenticated() ? /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"/\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 10\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Modal, {\n        isOpen: error.length > 0,\n        toggle: () => setError(''),\n        children: [/*#__PURE__*/_jsxDEV(ModalHeader, {\n          children: \"Error trying to login.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ModalBody, {\n          children: /*#__PURE__*/_jsxDEV(Alert, {\n            color: \"danger\",\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ModalFooter, {\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            color: \"info\",\n            onClick: () => setError(''),\n            children: \"Ok\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Container, {\n        className: \"py-2\",\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            md: \"4\",\n            className: \"mx-auto\",\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              children: /*#__PURE__*/_jsxDEV(CardBody, {\n                children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n                  children: \"Welcome, please login!\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 71,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Form, {\n                  onSubmit: e => e.preventDefault(),\n                  method: \"POST\",\n                  className: \"text-left\",\n                  children: [/*#__PURE__*/_jsxDEV(FormGroup, {\n                    children: [/*#__PURE__*/_jsxDEV(Label, {\n                      for: \"username\",\n                      children: \"Username\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 74,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Input, {\n                      id: \"username\",\n                      name: \"username\",\n                      type: \"text\",\n                      placeholder: \"userName\",\n                      value: username,\n                      onChange: handleChange\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 75,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 73,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n                    children: [/*#__PURE__*/_jsxDEV(Label, {\n                      for: \"password\",\n                      children: \"password\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 78,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Input, {\n                      id: \"password\",\n                      name: \"password\",\n                      type: \"password\",\n                      placeholder: \"parola\",\n                      value: password,\n                      onChange: handleChange\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 79,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 77,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    onClick: login,\n                    className: \"w-100 text-center\",\n                    children: \"Login\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 82,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 72,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 10\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Login, \"p80zIqrr9HwGeQYLEXN/PJZm8GA=\", true, function () {\n  return [useHistory, useLocation];\n});\n\n_c = Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["C:/Users/Viviana/Desktop/proiect tw2/New folder (2)/proiect/client/src/components/Login.js"],"names":["React","useState","Redirect","useHistory","useLocation","Alert","Button","Card","CardBody","CardTitle","Col","Container","Form","FormGroup","Input","Label","Modal","ModalBody","ModalFooter","ModalHeader","Row","Login","useAuthHandler","authHandler","history","location","username","setUsername","password","setPassword","error","setError","handleChange","e","target","id","value","login","user","resp","message","push","state","from","isAuthenticated","length","preventDefault"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { Redirect, useHistory, useLocation } from 'react-router-dom';\nimport {\n  Alert,\n  Button,\n  Card,\n  CardBody,\n  CardTitle,\n  Col,\n  Container,\n  Form,\n  FormGroup,\n  Input,\n  Label,\n  Modal,\n  ModalBody,\n  ModalFooter,\n  ModalHeader,\n  Row\n} from 'reactstrap'\n\nexport default function Login({ useAuthHandler })\n{\n  const authHandler = useAuthHandler();\n  const history = useHistory();\n  const location = useLocation();\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n  const handleChange = e => {\n    if(e.target.id === 'username')\n    {\n      setUsername(e.target.value);\n    }\n    else if(e.target.id === 'password')\n    {\n      setPassword(e.target.value);\n    }\n  };\n  const login = async () => {\n    const user = {\n      username: username,\n      password: password\n    };\n\n    await authHandler.login(user, resp => resp.message ? setError(resp.message) : history.push(location.state || { from: '/' }));\n  };\n\n  return (\n    <div>\n      {authHandler.isAuthenticated()\n      ? (<Redirect to=\"/\" />)\n      : (<div>\n        <Modal isOpen={error.length > 0} toggle={() =>setError('')}>\n          <ModalHeader>Error trying to login.</ModalHeader>\n          \n          <ModalBody>\n            <Alert color=\"danger\">{error}</Alert>\n          </ModalBody>\n\n          <ModalFooter>\n            <Button color=\"info\" onClick={() => setError('')}>Ok</Button>\n          </ModalFooter>\n        </Modal>\n\n        <Container className=\"py-2\">\n          <Row>\n            <Col md=\"4\" className=\"mx-auto\">\n              <Card>\n                <CardBody>\n                  <CardTitle>Welcome, please login!</CardTitle>\n                  <Form onSubmit={e => e.preventDefault()} method=\"POST\" className=\"text-left\">\n                    <FormGroup>\n                      <Label for=\"username\">Username</Label>\n                      <Input id=\"username\" name=\"username\" type=\"text\" placeholder=\"userName\" value={username} onChange={handleChange} />\n                    </FormGroup>\n                    <FormGroup>\n                      <Label for=\"password\">password</Label>\n                      <Input id=\"password\" name=\"password\" type=\"password\" placeholder=\"parola\" value={password} onChange={handleChange} />\n                    </FormGroup>\n\n                    <Button onClick={login} className=\"w-100 text-center\">Login</Button>\n                  </Form>\n                </CardBody>\n              </Card>\n            </Col>\n          </Row>\n        </Container>\n      </div>)}\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}